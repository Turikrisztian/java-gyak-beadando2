<!DOCTYPE html>
<html lang="hu" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" th:fragment="layout(content)">
<head th:fragment="head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Városvégi Gimnázium</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen font-sans text-gray-900">

<nav class="bg-red-700 text-white shadow-lg">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <a href="/" class="text-2xl font-bold tracking-wide hover:text-red-200 transition">Városvégi Gimnázium</a>

        <ul class="flex space-x-6 items-center">
            <li><a href="/" class="hover:text-yellow-300 transition">Főoldal</a></li>
            <li><a href="/adatbazis" class="hover:text-yellow-300 transition">Adatbázis</a></li>
            <li><a href="/kapcsolat" class="hover:text-yellow-300 transition">Kapcsolat</a></li>
            <li><a href="/diagram" class="hover:text-yellow-300 transition">Diagram</a></li>
            <li sec:authorize="isAuthenticated()">
                <a href="/uzenetek" class="hover:text-yellow-300 transition">Üzenetek</a>
            </li>

            <li sec:authorize="hasRole('ADMIN')">
                <a href="/crud" class="bg-yellow-500 text-red-900 px-3 py-1 rounded font-bold hover:bg-yellow-400">ADMIN</a>
            </li>

            <li sec:authorize="!isAuthenticated()">
                <a href="/login" class="hover:text-white font-medium">Belépés</a>
            </li>
            <li sec:authorize="!isAuthenticated()">
                <a href="/register" class="bg-white text-red-700 px-4 py-1 rounded hover:bg-gray-200 transition">Regisztráció</a>
            </li>

            <li sec:authorize="isAuthenticated()" class="flex items-center gap-3 border-l border-red-500 pl-4">
                <span class="text-sm text-red-200">Szia, <span sec:authentication="name">User</span>!</span>
                <form th:action="@{/logout}" method="post" class="inline">
                    <button type="submit" class="text-red-300 hover:text-white text-sm">Kilépés</button>
                </form>
            </li>

        </ul>
    </div>
</nav>

<main class="container mx-auto px-4 py-8 flex-grow">
    <div th:replace="${content}"></div>
</main>

<footer class="bg-gray-800 text-gray-400 py-6 text-center mt-auto">
    <p>&copy; 2024 Városvégi Gimnázium - Elektronikus Napló Rendszer</p>
</footer>

</body>
</html>